{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fatim\\\\OneDrive\\\\Documents\\\\CentennialCollege\\\\Semester 6\\\\313_swDevProj2_401\\\\TutorFinderApp\\\\frontend\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/AuthContext.js\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\n\n// Custom hook to use auth context\nexport const useAuth = () => {\n  _s();\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n_s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const [auth, setAuth] = useState({\n    token: null,\n    role: null,\n    userId: null,\n    name: null\n  });\n  useEffect(() => {\n    const storedToken = localStorage.getItem('token');\n    const storedRole = localStorage.getItem('role');\n    const storedUserId = localStorage.getItem('userId');\n    const storedName = localStorage.getItem('name');\n    if (storedToken && storedRole) {\n      setAuth({\n        token: storedToken,\n        role: storedRole,\n        userId: storedUserId,\n        name: storedName\n      });\n    }\n  }, []);\n  const login = (token, role, userId, name) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('role', role);\n    localStorage.setItem('userId', userId);\n    localStorage.setItem('name', name);\n    setAuth({\n      token,\n      role,\n      userId,\n      name\n    });\n  };\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n    localStorage.removeItem('userId');\n    localStorage.removeItem('name');\n    setAuth({\n      token: null,\n      role: null,\n      userId: null,\n      name: null\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      auth,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s2(AuthProvider, \"cKaA8/qTqNauhGMgOn4jYiRTcKY=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","context","Error","AuthProvider","children","_s2","auth","setAuth","token","role","userId","name","storedToken","localStorage","getItem","storedRole","storedUserId","storedName","login","setItem","logout","removeItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/fatim/OneDrive/Documents/CentennialCollege/Semester 6/313_swDevProj2_401/TutorFinderApp/frontend/src/context/AuthContext.js"],"sourcesContent":["// src/context/AuthContext.js\r\nimport React, { createContext, useState, useEffect, useContext } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\n// Custom hook to use auth context\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [auth, setAuth] = useState({\r\n    token: null,\r\n    role: null,\r\n    userId: null,\r\n    name: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const storedToken = localStorage.getItem('token');\r\n    const storedRole = localStorage.getItem('role');\r\n    const storedUserId = localStorage.getItem('userId');\r\n    const storedName = localStorage.getItem('name');\r\n    if (storedToken && storedRole) {\r\n      setAuth({\r\n        token: storedToken,\r\n        role: storedRole,\r\n        userId: storedUserId,\r\n        name: storedName,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const login = (token, role, userId, name) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('role', role);\r\n    localStorage.setItem('userId', userId);\r\n    localStorage.setItem('name', name);\r\n    setAuth({ token, role, userId, name });\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('role');\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem('name');\r\n    setAuth({ token: null, role: null, userId: null, name: null });\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ auth, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;;AAE1C;AACA,OAAO,MAAMO,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,OAAO,GAAGN,UAAU,CAACG,WAAW,CAAC;EACvC,IAAI,CAACG,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,6CAA6C,CAAC;EAChE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,EAAA,CANWD,OAAO;AAQpB,OAAO,MAAMI,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC5C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC;IAC/Be,KAAK,EAAE,IAAI;IACXC,IAAI,EAAE,IAAI;IACVC,MAAM,EAAE,IAAI;IACZC,IAAI,EAAE;EACR,CAAC,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACd,MAAMkB,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACjD,MAAMC,UAAU,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/C,MAAME,YAAY,GAAGH,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACnD,MAAMG,UAAU,GAAGJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/C,IAAIF,WAAW,IAAIG,UAAU,EAAE;MAC7BR,OAAO,CAAC;QACNC,KAAK,EAAEI,WAAW;QAClBH,IAAI,EAAEM,UAAU;QAChBL,MAAM,EAAEM,YAAY;QACpBL,IAAI,EAAEM;MACR,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,KAAK,GAAGA,CAACV,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,IAAI,KAAK;IAC3CE,YAAY,CAACM,OAAO,CAAC,OAAO,EAAEX,KAAK,CAAC;IACpCK,YAAY,CAACM,OAAO,CAAC,MAAM,EAAEV,IAAI,CAAC;IAClCI,YAAY,CAACM,OAAO,CAAC,QAAQ,EAAET,MAAM,CAAC;IACtCG,YAAY,CAACM,OAAO,CAAC,MAAM,EAAER,IAAI,CAAC;IAClCJ,OAAO,CAAC;MAAEC,KAAK;MAAEC,IAAI;MAAEC,MAAM;MAAEC;IAAK,CAAC,CAAC;EACxC,CAAC;EAED,MAAMS,MAAM,GAAGA,CAAA,KAAM;IACnBP,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC;IAChCR,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC;IAC/BR,YAAY,CAACQ,UAAU,CAAC,QAAQ,CAAC;IACjCR,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC;IAC/Bd,OAAO,CAAC;MAAEC,KAAK,EAAE,IAAI;MAAEC,IAAI,EAAE,IAAI;MAAEC,MAAM,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAK,CAAC,CAAC;EAChE,CAAC;EAED,oBACEd,OAAA,CAACC,WAAW,CAACwB,QAAQ;IAACC,KAAK,EAAE;MAAEjB,IAAI;MAAEY,KAAK;MAAEE;IAAO,CAAE;IAAAhB,QAAA,EAClDA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACtB,GAAA,CA5CWF,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}